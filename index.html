<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hien Pham - Web c·ªßa Ph·∫°m Th·∫ø Hi·ªÉn</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* CSS c·ªßa b·∫°n v·∫´n gi·ªØ nguy√™n */
    </style>
</head>
<body>
    <!-- Ph·∫ßn th√¥ng b√°o -->
    <div id="notification-overlay">
        <div id="notification-box">
            <h2>Phamthehien - wed</h2>
            <p>
                hihi :) <br>
                ‚Ä¢ üòìüòì<br>
                ‚Ä¢ ü•≤. <br>
            </p>
            <button id="close-notification">ƒê√≥ng</button>
        </div>
    </div>

    <!-- N·ªôi dung ch√≠nh -->
    <h1>Ch√†o m·ª´ng ƒë·∫øn v·ªõi trang c√° nh√¢n c·ªßa t√¥i</h1>
    <h2>Ph·∫°m Th·∫ø Hi·ªÉn</h2>

    <div class="profile-container">
        <img src="IMG_2728.PNG" alt="·∫¢nh c·ªßa t√¥i">
        <i class="fas fa-check-circle verified-icon"></i>
    </div>

    <div class="social-icons">
        <a href="https://www.facebook.com/hienpham192008?mibextid=LQQJ4d" target="_blank">
            <i class="fab fa-facebook-square"></i>
        </a>
        <a href="https://www.tiktok.com/@betehien" target="_blank">
            <i class="fab fa-tiktok"></i>
        </a>
    </div>

    <h3>Video gi·ªõi thi·ªáu</h3>
    <video width="320" height="180" controls>
        <source src="Video121.mp4.MOV" type="video/mp4">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ video.
    </video>

    <!-- N√∫t m·ªü h·ªôp chat -->
    <div id="chat-button" style="position: fixed; bottom: 20px; right: 20px; cursor: pointer;">
        <i class="fas fa-comment-alt" style="font-size: 36px; color: white;"></i>
    </div>

    <!-- H·ªôp chat -->
    <div class="chat-box" id="chat-box">
        <header>H·ªó tr·ª£ tr·ª±c tuy·∫øn</header>
        <textarea id="chat-message" placeholder="Nh·∫≠p tin nh·∫Øn c·ªßa b·∫°n..."></textarea>
        <button id="send-message">G·ª≠i</button>
    </div>

    <!-- Form nh·∫≠p t√™n v√† tin nh·∫Øn -->
    <div>
        <input type="text" id="username" placeholder="Nh·∫≠p t√™n c·ªßa b·∫°n" />
        <input type="text" id="messageInput" placeholder="Nh·∫≠p tin nh·∫Øn..." />
        <button onclick="sendMessage()">G·ª≠i</button>
    </div>

    <script type="module">
        import { db } from './firebase-config.js';  // ƒê·∫£m b·∫£o r·∫±ng b·∫°n ƒë√£ c√≥ c·∫•u h√¨nh Firebase
        import { ref, push, set } from 'firebase/database';

        // G·ª≠i tin nh·∫Øn
        function sendMessage() {
            const messageText = document.getElementById("messageInput").value;
            const username = document.getElementById("username").value;

            if (messageText && username) {
                // L·∫•y tham chi·∫øu ƒë·∫øn node "messages" trong Firebase
                const messagesRef = ref(db, 'messages');
                const newMessageRef = push(messagesRef);
                
                // G·ª≠i tin nh·∫Øn v√†o Firebase
                set(newMessageRef, {
                    username: username,
                    message: messageText,
                    timestamp: Date.now()
                });

                // X√≥a √¥ nh·∫≠p sau khi g·ª≠i
                document.getElementById("messageInput").value = '';
                document.getElementById("username").value = ''; // X√≥a t√™n ng∆∞·ªùi d√πng sau khi g·ª≠i
            }
        }

        // H·ªôp chat
        const chatButton = document.getElementById("chat-button");
        const chatBox = document.getElementById("chat-box");
        const sendMessageButton = document.getElementById("send-message");
        const chatMessage = document.getElementById("chat-message");

        chatButton.addEventListener("click", () => {
            if (chatBox.style.display === "none" || chatBox.style.display === "") {
                chatBox.style.display = "flex"; // Hi·ªÉn th·ªã h·ªôp chat
            } else {
                chatBox.style.display = "none"; // ·∫®n h·ªôp chat
            }
        });

        sendMessageButton.addEventListener("click", () => {
            const message = chatMessage.value.trim();
            if (message) {
                alert(`Tin nh·∫Øn ƒë√£ g·ª≠i: ${message}`);
                chatMessage.value = ""; // X√≥a n·ªôi dung sau khi g·ª≠i
            } else {
                alert("Vui l√≤ng nh·∫≠p tin nh·∫Øn!");
            }
        });
    </script>
</body>
</html>
